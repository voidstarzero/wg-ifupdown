#!/usr/bin/env bash

function runcmd {
    [[ $VERBOSITY == 1 ]] && echo "$@"
    "$@"
}

# The ifup(8) program doesn't know how to to create wireguard links using
# ip(8), so we need to create it before anything is tried.
if [[ "$IFACE" == wg* ]]; then
    # There's no convenient way to find out if an interface is supposed to be
    # wireguard, other than how it's named.
    runcmd ip link add "$IFACE" type wireguard
fi
